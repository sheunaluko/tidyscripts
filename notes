TIDYSCRIPTS NOTES
-----------------


Currently working on: (in branch query_caching) 

=> Query caching. Have been working in the firebase.ts file and implement helper functions for storing and retrieiving user data
=> Working: user_doc_store, store_in_user_collection
=> NOT WORKING: get_user_collection (there is a problem with resolving the collection reference to an array of documents
   - ?Fix - https://github.com/angular/angularfire/issues/3442 suggests that it may be fixed by downgrading the firebase version, which I could try

=> once storage and retrieval of authenticated user data is enabled, scoped by APP ID and User ID, then I can start to build the caching system 






Other to work on =>

[ ] test using llama3 model with open devin to save costs
[ ] extract all dreams and store


[ ]  allow user to configure settings 

[ ] Implementing presence
- Could do this using a document => stats/active_clients in  Firestore
  - and the vercel api/active_client endpoint 
  - need a way to get a unique identifier from the vercel client request
  - looks like I can use const ip = req.headers['x-forwarded-for'] || req.connection.remoteAddress
    	  - but also may want to include the (UserAgent) information as well (or else multiple devices behind same IP will not show) 
  - First I get the ID; and a timestamp
    - The next step is retrieving the JSON object that maps ID => timestamp; (retrieve usign Firestore admin sdk)
      	  - update it with the current ID,timestampe
	  - For each expired (T x 2) timestamp delete the ID,timestamp combo
	  - Then return the JSON object back to stats/active_clients document
  - In the layout there is a setInterval that runs every (T) seconds; and calls the api/active_client endpoint
=> The above should more or less work 

1. Can utilize the .env files to configure the "localhost" vs "tidyscripts.com" api endpoints for seamless api testing while in development mode.
2. tsconfig has "skipLibCheck" to resolve langchain type error
3. consider getting rid of RAMDA ... it appears that it needs 0.28.0 and @types 0.28.25  in order to be compatible with typescript 5.3.3 !!!
   -> I ended up changing the typescript version multiple times so this may not be relevant



DONE:

[x] fix mobile version of app and mobile login etc (will have to debug on mobile device)  